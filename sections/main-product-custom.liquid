<style>
  .product-page { padding: 2rem 0; }
  .product__grid {
    display: grid;
    grid-template-columns: 1fr;
    gap: 2rem;
  }
  .product__gallery { display: flex; gap: 1rem; }
  .product__thumbnails { flex: 0 0 80px; display: flex; flex-direction: column; gap: 0.5rem; }
  .product__thumbnail img { width: 100%; border: 1px solid #eee; border-radius: 4px; cursor: pointer; }
  .product__main-image img { width: 100%; border: 1px solid #eee; border-radius: 8px; }
  .product__info h1 { font-size: 2rem; font-weight: 600; margin: 0 0 0.5rem; }
  .product__price { font-size: 1.5rem; margin-bottom: 1rem; }
  .product__description { margin-bottom: 1.5rem; }
  .product-form__input { margin-bottom: 1.5rem; }
  .product-form__input label { display: block; margin-bottom: 0.5rem; font-weight: 600; }
  .product-form__input select, .product-form__input input { width: 100%; padding: 0.75rem; border: 1px solid #ccc; border-radius: 4px; }
  .product__accordion { margin-top: 2rem; }
  .accordion__item { border-bottom: 1px solid #eee; }
  .accordion__title { font-weight: 600; padding: 1rem 0; cursor: pointer; }
  .accordion__content { padding-bottom: 1rem; }

  @media (min-width: 750px) {
    .product__grid { grid-template-columns: 1fr 1fr; gap: 4rem; }
  }
</style>

<section class="product-page page-width" data-section="{{ section.id }}">
  <div class="product__grid">
    
    <div class="product__gallery">
      <div class="product__thumbnails">
        {%- for media in product.media -%}
          <div class="product__thumbnail">
            <img src="{{ media | image_url: width: 100 }}" alt="{{ media.alt | escape }}">
          </div>
        {%- endfor -%}
      </div>
      <div class="product__main-image">
        <img src="{{ product.featured_media | image_url: width: 800 }}" alt="{{ product.featured_media.alt | escape }}">
      </div>
    </div>

    <div class="product__info">
      <h1>{{ product.title }}</h1>
      <div class="product__price">
        {{ product.price | money }}
      </div>
      <div class="product__description rte">
        {{ product.description }}
      </div>

      {%- form 'product', product, class: 'product-form' -%}
        <input type="hidden" name="id" value="{{ product.selected_or_first_available_variant.id }}">

        {%- for option in product.options_with_values -%}
          <div class="product-form__input">
            <label for="Option-{{ forloop.index }}">{{ option.name }}</label>
            <select id="Option-{{ forloop.index }}" name="options[{{ option.name | escape }}]">
              {%- for value in option.values -%}
                <option value="{{ value | escape }}" {% if option.selected_value == value %}selected="selected"{% endif %}>
                  {{ value }}
                </option>
              {%- endfor -%}
            </select>
          </div>
        {%- endfor -%}

        <div class="product-form__input">
          <label for="Quantity">{{ 'products.product.quantity.label' | t }}</label>
          <input type="number" id="Quantity" name="quantity" value="1" min="1">
        </div>

        <button type="submit" name="add" class="button button--primary">
          {{ 'products.product.add_to_cart' | t }}
        </button>
      {%- endform -%}
      
      <div class="product__accordion">
        {%- for block in section.blocks -%}
          <div class="accordion__item" {{ block.shopify_attributes }}>
            <h3 class="accordion__title">{{ block.settings.title }}</h3>
            <div class="accordion__content rte">
              {{ block.settings.content }}
            </div>
          </div>
        {%- endfor -%}
      </div>

    </div>
  </div>
</section>

{% schema %}
{
  "name": "Información del Producto",
  "tag": "section",
  "class": "product-section",
  "blocks": [
    {
      "type": "accordion_item",
      "name": "Pestaña de Acordeón",
      "settings": [
        {
          "type": "text",
          "id": "title",
          "label": "Título de la pestaña",
          "default": "Detalles"
        },
        {
          "type": "richtext",
          "id": "content",
          "label": "Contenido de la pestaña",
          "default": "<p>Añade aquí información sobre los detalles del producto.</p>"
        }
      ]
    }
  ]
}
{% endschema %}